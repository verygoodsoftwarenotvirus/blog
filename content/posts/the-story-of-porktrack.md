---
title: 'The story of Porktrack'
date: 2019-08-01T11:11:13-06:00
draft: true
---

I'd like to tell the story of how I got into the software engineering field, but like any post I make on this website, I feel the need to justify the endeavor first. I've decided to share it because whenever I've shared it with folks in the past, they seem to have enjoyed it and almost always ask questions about details in disbelief, which is in an indicator to me that the story is maybe good. I'm also interested in simply documenting this story while the details are immediately recallable. If you're the author of this post and reading it years after the fact, you're welcome. :)

To set up some context, the year is 2014, and I was working as a security guard for a local condominium complex. I made $11/hr, and I had just gotten married. I remember sitting next to my new bride, in awe of the responsibility that she had entrusted me with by marrying me, and feeling wholly unworthy of the privilege. I was, in colloquial terms, [a scrub](https://www.youtube.com/watch?v=FrLequ6dUdM), but I was at least a self-aware scrub, so I began to devise a scheme to improve my situation.

To give some background on my education, I have an Associate's degree in Liberal Arts, which as we all know, is the most useful kind and calibre of degree. I got the degree because I was ideating suicide, and needed to leave my current circumstances, but was pretty certain (and eventually correct!) that leaving would mean I would not return, so I went to the counselor and asked what I could graduate with that semester, with the aim of being able to tell my progenitors that I did complete a college degree without _explicitly_ lying to them.

That said, in 2012 I had taken CS101, and learned C from variables and functions up to structs, which engendered in me a fondness for the exercise of programming. I had been hoping to return to school, and kept writing trivial programs and exploring programming while I waited for that to occur. I wrote some [math](https://github.com/verygoodsoftwarenotvirus/CSharpMathQuizzer) [quizzers](https://github.com/verygoodsoftwarenotvirus/Assistmetic), [a random color generator](https://github.com/verygoodsoftwarenotvirus/AndroidColorGenerator), and some other miscellaneous things that were useful to nobody, myself included. I remember thinking that something like a Twitter client would be a good thing to work on, but going from generating a random color to authenticating over OAuth when you don't understand how websites work is a daunting task.

Thankfully, the condos I worked at had lots of software engineers who were living there, and I was their only vehicle to receive their precious Amazon Prime deliveries, so one day I asked a guy I won't name for guidance around what I should build next. He responded by suggesting I create a website, which I initially rejected categorically. "I don't want to be a web developer!" I bemoaned. Web developers wore berets at coffee houses, and painted borders around divs, marveling at getting simplistic 3D spheres to render on canvases between Sonic Youth tracks. "The web is dumb, I don't wanna do that dumb stuff, I want to be a Real Programmer™." What my interlocutor revealed next would prove hugely consequential to my life, and stands as some of the wisest words I've received yet:

    "The web's not dumb, you're dumb"

Okay, so he didn't actually say that, but he did illuminate to me that I couldn't do the larger things I wanted to do without some foundational knowledge best acquired by building a website.

The thing that is hardest about learning how to write code is knowing _what_ to write. You can be the best and brightest student our planet has ever known, and you could spend hours absorbing the knowledge of how conditionals work, where and when to attach a method to a class, etc, but if you don't know to what end its for, you will never apply it meaningfully and never understand the concepts as fully as you need to.

I recognized this problem early on, and sort of just dealt with it by coming up with contrived applications to build (see the aforementioned math quizzers), but there was an application I was interested in building. Without elaborating on the idea specifically (in due time, suffice it to say it is incredibly silly), I explained it to the man who really just wanted to pick up his new headphones or whatever. I explained that I didn't think I could put such a silly thing on a résumé, did he have any ideas for a better task I could embark upon? His response was something to the tune of "this is Austin, you can put whatever the fuck you want on a résumé and they'll probably bring you in".

The website idea was to present a user with an interface for putting in their birthday, and calculating from that information, the day they were conceived. Once it has that date, it will look up what the #1 song on the Billboard Hot 100 was that week, the implication being that if any song was most likely to be on the radio when your parents did the deed, it would be the most popular one. There was also an interface for noting if you were a late or early delivery, as that obviously impacts the results. For whatever it's worth, I have probably the worst Porktrack you can have, but I won't reveal what it is because it would reveal a pretty vital piece of information about me (my birth date), and also because it is incredibly enjoyable to see people speculate on which one is the "worst."

I learned Python in order to fetch the data, because I'd read in [Steven Levy's Into The Plex](https://www.amazon.com/Plex-Google-Thinks-Works-Shapes/dp/1416596585) that Google had chosen Python for their data collection tasks, and I didn't know what [cargo culting](https://en.wikipedia.org/wiki/Cargo_cult_programming) was. My first stab was to take the data from [the Wikipedia pages for the Hot 100 chart by year](https://en.wikipedia.org/wiki/List_of_Hot_100_number-one_singles_of_1959_(U.S.)) (1959 as an example). Initially, this meant reading the HTML of the page as a string, and using Python's `str.find()` and `str.replace()` methods on various class names to extract the actual data. This obviously didn't scale well, as some of these pages are formatted wildly differently from each other. I could have standardized the formatting, but I also didn't want this project to have any lasting impacts on Wikipedia. [Here](https://github.com/verygoodsoftwarenotvirus/Porktrack/blob/5a9334ba984ba109b0a7773df1a72a9ad9a05117/tools/wikithief.py) is the oldest version of the source code that I can find, which comes after I realized how poorly this scaled. I ended up switching to a modified [HTMLParser](https://docs.python.org/3/library/html.parser.html), which ultimately traversed the `<table>` elements in the response, and incremented state while determining the relevant information. Once the script got to where it could reliably ascertain who had what hits when, I spat them out to stdout as SQL queries to create the data. I would then save that as a file, and execute the query in PHPMyAdmin. Eventually I modified the script so that it would also fetch the top YouTube video ID from a search for "{artist} {song_name}". More on database disasters to come, but speaking of infrastructure...

Oh right, infrastructure! The only infrastructure provider I knew about or felt comfortable using was DigitalOcean, who really deserve a lot of credit for building an interface that someone who knows literally nothing about programming can still use and feel like they haven't screwed themselves out of a paycheck. I used the one-click-setup LAMP stack droplet because that was literally the only way I knew that websites were made (if you told me you could write web servers in Python, I might've died of happiness, because I really fell in love with the language). I don't remember if this configuration came with PHPMyAdmin, but I didn't know it existed before this experience, so it wouldn't be out of the realm of possibility. I probably could have swung the $10/month droplet, but I stuck with $5 because of how little I made.

I didn't know how to set up a local development environment, and indeed was using Windows mostly where these things tend to be harder than they should. My workflow ended up being that I would write PHP files on my local machine, transfer them to the appropriate place on the machine via FileZilla, and then hit the web page in order to see my changes. It is still, to this day, one of the best development environments I've ever hard. I'm not even kinda being sarcastic, I love instant feedback, and had I gone through the process of setting up [WAMP](https://ampps.com/wamp) or whatever, I likely would have doubted that whatever was working on my machine would actually work on production. When your dev environment _is_ production, though, no such doubt can exist. (Note: I am not recommending this workflow for anything meaningful)

I cooked up enough crappy PHP that the site did what I thought it should do. I was also learning HTML/CSS/Javascript/SQL in order to accomplish this task, and I really enjoyed myself. I put the files onto the droplet, and the site seemed to work as I expected. I did some basic testing around awful input (ensuring that the user would get redirected to the homepage in the event they said they were born in the year 4096, for instance), but I didn't understand what unit tests were or how to write them, so I didn't do any of that. In fact, in recollecting this story, I've realized the only credit I can really give myself with regard to architectural choices, is that I chose to use an SVG for the logo, but even that was more a "I don't know how to reliably predict which icon size to show to users", than a "I'm making a conscious tradeoff after rigorous testing" kinda thing.

One of the main (only?) benefits to being a security guard is the downtime. Most of the time, your job is just to be present, but only physically. Many security guards don't have access to a computer, and if they do, most are subject to rigorous IT policies because their computers are just a workstation in a warehouse full of workstations, and they aren't going to provision them differently because the security guard is bored. We're all bored. I was lucky[^1], though, because I worked for a condo complex, so there were no IT firms, and the computer was a Dell shitbox I bought from the Office Depot myself on the HOA credit card. I was able to install Python on it, and able to use IDLE during my day-to-day tasks in order to write the scripts that fetched data for the database. I was also able to install FileZilla and change the actual production website.

^1: really, I am lucky in so many ways. I'm lucky that I didn't have any children or sick relatives to tend to, so I had all the time and space I needed to try and accomplish my goal. I was also lucky to work at a place that was more than fine with me doing extracurricular activities while "on the job," indeed my boss new that I was working on Porktrack and even tested the site for me a few times. I was also lucky that the friendly folks who lived at the condos indulged my endless pestering for suggestions on what to learn or work on next.

What happened next is still one of the wildest things to happen to me in my entire life. Once I felt like the site was in decent shape, I posted it on to
[/r/music](https://www.reddit.com/r/Music/) [actual post here](https://www.reddit.com/r/Music/comments/26jdry/i_made_a_website_that_estimates_what_song_you/), and it took off like a rocket. I received 2.1m hits in 10 days, and I didn't have ads on it for any of it, if I recall correctly. I know this because I had the foresight to include Google Analytics on the page (and eventually did place ads on the site via AdWords)

![this was before Google Analytics was evil](/porktrack/analytics.png)

Crucial to remember in all this is that for me, the request-response lifecycle, the notion of a CRUD app, was becoming obviously clear to me, and its power was palpable. "This is how the internet works!" I rejoiced, with the realization that if I wanted to build a website for keeping track of cats I saw on the street, I was just a little schema and SQL away from having exactly that! I was on top of the world, and wanted to put my new knowledge to great use, so I did what any hapless fool in that circumstance would do: I reinvented analytics. I created a table in PHPMyAdmin that had room for some basic stuff around timestamp, source IP, referring URL, etc. I also managed this new database table the way you might expect: by opening a connection to it. So every time someone hit the website, the page would make two MYSQL connections to the exact same database. Shortly after launching on the site, folks objected to the process by which their Porktracks were determined by noting that their parents were Mexican immigrants/die-hard country fans who would never have listened to the Hot 100. So I very quickly adapted my scripts to account for the Country and Latin charts, and created new tables for them, and guess how I queried them. Yup, another two connections.

This very quickly unraveled and resulted in my $5 DigitalOcean droplet soliciting union membership interest from the other droplets. I think it might actually be impossible to be stupid enough to look at a degraded web page initiating four connections to the same database and not figure out the solution, because I'm certain I would have just speechlessly accepted my plight if it were. After switching to just the one connection per request, and eliminating data gathering in its entirety, I never had issues with the site going down ever again.

Most of the traffic fizzled out and died by mid June, but I kept checking the AdSense results because I had vowed to shut down Porktrack the month it stopped making enough to pay for its own Droplet. Almost half a year later, I was at the Post Office waiting in line, when I mosied on over to AdSense to find that I had made $2500 that day. It was the day before Thanksgiving, and someone had posted it to another subreddit (that I can't manage to find at the moment), where it was gaining a similar influx of traffic from bored Americans waiting for planes. I ended up making $3,300 after all was said and done, which I'm pretty sure I spent on some gnarly debts.

One of my favorite parts about this experience was other folks' reactions. People genuinely seemed to think the idea was amusing, and nobody seemed to be particularly offended. One of the other folks who lived at those condos was a guy who was part of a [morning radio trio](https://mix947.radio.com/shows/booker-alex-sara). He came up the day after it went viral telling us about this absolutely wild website his broadcasting company had approved as a topic of morning conversation. He explained to me that radio stations all over the country get the exact same list, and indeed I was reached out to by a few different radio stations who let me know they spoke about my website on air. A couple even provided audio, which I've kept in a Dropbox for safe keeping.
